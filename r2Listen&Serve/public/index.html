<html>

<head>
  <meta charset="utf-8" />
  <title>WebAssembly with Go</title>


  <link rel="icon" type="image/ico" href="favicon.ico" />

</head>

<body>
  <h1>You've compiled Go for WebAssembly, Congratulations!</h1>
  <script src="./wasm_exec.js"></script>
  <!-- <script>
            const go = new Go();
            WebAssembly.instantiateStreaming(fetch("./main.wasm"),go.importObject).then((result) => {
            go.run(result.instance);
        }
         );
        </script> -->


   <!-- <script>
    if (!WebAssembly.instantiateStreaming) {
      // polyfill
      WebAssembly.instantiateStreaming = async (resp, importObject) => {
        const source = await (await resp).arrayBuffer();
        return await WebAssembly.instantiate(source, importObject);
      };
    }

    const go = new Go();

    let mod, inst;

    WebAssembly.instantiateStreaming(fetch("main.wasm"), go.importObject).then(
      result => {
        mod = result.module;
        inst = result.instance;
        document.getElementById("runButton").disabled = false;
      }
    );

    async function run() {
      await go.run(inst);
      inst = await WebAssembly.instantiate(mod, go.importObject); // reset instance
    }
  </script> -->
  <button onClick="run();" id="runButton" disabled>Run</button>
</body>

</html>